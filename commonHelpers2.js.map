{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["// import Player from '@vimeo/player';\n// import throttle from 'lodash.throttle';\n\n// const iframe = document.querySelector('iframe');\n// const player = new Player(iframe);\n// const LS_CURRENT_TIME_KEY = 'videoplayer-current-time';\n\n// const onPlay = function ({ seconds }) {\n//   if (seconds !== undefined) {\n//     localStorage.setItem(LS_CURRENT_TIME_KEY, seconds);\n//   }\n// };\n\n// player.on('timeupdate', throttle(onPlay, 1000));\n\n// const currentTime = localStorage.getItem(LS_CURRENT_TIME_KEY);\n// if (currentTime !== null) {\n//   player.setCurrentTime(+currentTime);\n// }\n\nimport Player from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst iframe = document.querySelector('iframe');\nif (!iframe) {\n  console.error('Iframe element not found.');\n} else {\n  const player = new Player(iframe);\n  const LS_CURRENT_TIME_KEY = 'videoplayer-current-time';\n\n  const onPlay = function ({ seconds }) {\n    if (seconds !== undefined) {\n      console.log('Storing seconds:', seconds);\n      localStorage.setItem(LS_CURRENT_TIME_KEY, seconds);\n    } else {\n      console.error('Seconds value is undefined.');\n    }\n  };\n\n  player.on('timeupdate', throttle(onPlay, 1000));\n\n  const currentTime = localStorage.getItem(LS_CURRENT_TIME_KEY);\n  if (currentTime !== null) {\n    console.log('Setting current time to:', currentTime);\n    player.setCurrentTime(+currentTime).catch(function (error) {\n      console.error('Error setting current time:', error);\n    });\n  } else {\n    console.log('No current time found in local storage.');\n  }\n\n  // Enhanced error handling for player messages\n  player.on('error', function (error) {\n    console.error('Player error:', error);\n  });\n\n  // Debugging: Log player state\n  player.getVideoTitle().then(function(title) {\n    console.log('Video title:', title);\n  }).catch(function(error) {\n    console.error('Error getting video title:', error);\n  });\n}\n\n// Additional debugging for player events\nwindow.addEventListener('message', function(event) {\n  console.log('Message event:', event);\n});"],"names":["iframe","player","Player","LS_CURRENT_TIME_KEY","onPlay","seconds","throttle","currentTime","error","title","event"],"mappings":"+IAuBA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EAC9C,GAAI,CAACA,EACH,QAAQ,MAAM,2BAA2B,MACpC,CACL,MAAMC,EAAS,IAAIC,EAAOF,CAAM,EAC1BG,EAAsB,2BAEtBC,EAAS,SAAU,CAAE,QAAAC,GAAW,CAChCA,IAAY,QACd,QAAQ,IAAI,mBAAoBA,CAAO,EACvC,aAAa,QAAQF,EAAqBE,CAAO,GAEjD,QAAQ,MAAM,6BAA6B,CAEjD,EAEEJ,EAAO,GAAG,aAAcK,EAASF,EAAQ,GAAI,CAAC,EAE9C,MAAMG,EAAc,aAAa,QAAQJ,CAAmB,EACxDI,IAAgB,MAClB,QAAQ,IAAI,2BAA4BA,CAAW,EACnDN,EAAO,eAAe,CAACM,CAAW,EAAE,MAAM,SAAUC,EAAO,CACzD,QAAQ,MAAM,8BAA+BA,CAAK,CACxD,CAAK,GAED,QAAQ,IAAI,yCAAyC,EAIvDP,EAAO,GAAG,QAAS,SAAUO,EAAO,CAClC,QAAQ,MAAM,gBAAiBA,CAAK,CACxC,CAAG,EAGDP,EAAO,cAAa,EAAG,KAAK,SAASQ,EAAO,CAC1C,QAAQ,IAAI,eAAgBA,CAAK,CACrC,CAAG,EAAE,MAAM,SAASD,EAAO,CACvB,QAAQ,MAAM,6BAA8BA,CAAK,CACrD,CAAG,CACH,CAGA,OAAO,iBAAiB,UAAW,SAASE,EAAO,CACjD,QAAQ,IAAI,iBAAkBA,CAAK,CACrC,CAAC"}