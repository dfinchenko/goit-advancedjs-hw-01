{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('.feedback-form input'),\n  message: document.querySelector('.feedback-form textarea'),\n};\n\nconst FEEDBACK_FORM_STATE_KEY = 'feedback-form-state';\nlet formData = getSavedData() || { email: '', message: '' };\n\nrefs.input.value = formData.email;\nrefs.message.value = formData.message;\n\nrefs.form.addEventListener('input', throttle(handleInput, 500));\nrefs.form.addEventListener('submit', handleSubmit);\n\nfunction handleInput() {\n  formData = {\n    email: refs.input.value,\n    message: refs.message.value,\n  };\n  localStorage.setItem(FEEDBACK_FORM_STATE_KEY, JSON.stringify(formData));\n}\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  if (refs.input.value.trim() === '' || refs.message.value.trim() === '') {\n    alert('Не усі поля заповнено!');\n    return;\n  }\n\n  console.log(formData);\n\n  e.currentTarget.reset();\n  localStorage.removeItem(FEEDBACK_FORM_STATE_KEY);\n  formData = { email: '', message: '' };\n}\n\nfunction getSavedData() {\n  try {\n    const lsData = JSON.parse(localStorage.getItem(FEEDBACK_FORM_STATE_KEY));\n    return lsData;\n  } catch (error) {\n    console.error('Error parsing saved form data', error);\n    return null;\n  }\n}\n"],"names":["refs","FEEDBACK_FORM_STATE_KEY","formData","getSavedData","throttle","handleInput","handleSubmit","e","error"],"mappings":"wIAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,sBAAsB,EACpD,QAAS,SAAS,cAAc,yBAAyB,CAC3D,EAEMC,EAA0B,sBAChC,IAAIC,EAAWC,EAAY,GAAM,CAAE,MAAO,GAAI,QAAS,IAEvDH,EAAK,MAAM,MAAQE,EAAS,MAC5BF,EAAK,QAAQ,MAAQE,EAAS,QAE9BF,EAAK,KAAK,iBAAiB,QAASI,EAASC,EAAa,GAAG,CAAC,EAC9DL,EAAK,KAAK,iBAAiB,SAAUM,CAAY,EAEjD,SAASD,GAAc,CACrBH,EAAW,CACT,MAAOF,EAAK,MAAM,MAClB,QAASA,EAAK,QAAQ,KAC1B,EACE,aAAa,QAAQC,EAAyB,KAAK,UAAUC,CAAQ,CAAC,CACxE,CAEA,SAASI,EAAaC,EAAG,CAGvB,GAFAA,EAAE,eAAc,EAEZP,EAAK,MAAM,MAAM,KAAI,IAAO,IAAMA,EAAK,QAAQ,MAAM,KAAI,IAAO,GAAI,CACtE,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIE,CAAQ,EAEpBK,EAAE,cAAc,QAChB,aAAa,WAAWN,CAAuB,EAC/CC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,CAEA,SAASC,GAAe,CACtB,GAAI,CAEF,OADe,KAAK,MAAM,aAAa,QAAQF,CAAuB,CAAC,CAExE,OAAQO,EAAO,CACd,eAAQ,MAAM,gCAAiCA,CAAK,EAC7C,IACR,CACH"}